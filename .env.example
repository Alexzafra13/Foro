# ===== CONFIGURACI√ìN FORO CON AUTO-DETECCI√ìN =====
# Copiar este archivo como .env y personalizar seg√∫n tu entorno

# üß† AUTO-DETECCI√ìN INTELIGENTE DE FRONTEND_URL
# El sistema detecta autom√°ticamente la mejor URL seg√∫n tu configuraci√≥n:
#
# Si configuras SERVER_IP:
#   - Dominio (ej: midominio.com) ‚Üí https://midominio.com  
#   - IP (ej: 192.168.1.100) ‚Üí http://192.168.1.100:9050
#
# Si no configuras nada:
#   - Detecta autom√°ticamente tu IP local ‚Üí http://TU_IP_LOCAL:9050

# üåê CONFIGURACI√ìN DE RED (OPCIONAL - SE AUTO-DETECTA)
# Descomenta y configura solo si quieres forzar valores espec√≠ficos:
# SERVER_IP=localhost                    # Para desarrollo local
# SERVER_IP=192.168.1.100               # Para red local espec√≠fica  
# SERVER_IP=tudominio.duckdns.org       # Para dominio
# FRONTEND_PORT=9050                     # Puerto del frontend (por defecto: 9050)
# FRONTEND_URL=http://localhost:9050     # Solo si quieres deshabilitar auto-detecci√≥n

# ===== BASE DE DATOS =====
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CAMBIAR_ESTE_PASSWORD_AQUI
POSTGRES_DB=forumDB

# Para Docker (usar nombres de servicios Docker)
POSTGRES_URL=postgresql://postgres:CAMBIAR_ESTE_PASSWORD_AQUI@postgres:5432/forumDB
POSTGRES_DIRECT_URL=postgresql://postgres:CAMBIAR_ESTE_PASSWORD_AQUI@postgres:5432/forumDB

# Para desarrollo local con PgBouncer (opcional):
# POSTGRES_URL=postgresql://postgres:CAMBIAR_ESTE_PASSWORD_AQUI@localhost:6432/forumDB
# POSTGRES_DIRECT_URL=postgresql://postgres:CAMBIAR_ESTE_PASSWORD_AQUI@localhost:5432/forumDB

# ===== SEGURIDAD =====
# üîê Generar con: openssl rand -hex 32
JWT_SECRET=generar_nuevo_secret_con_openssl_rand_hex_32
JWT_EXPIRES_IN=7d
EMAIL_VERIFICATION_SECRET=generar_otro_secret_diferente
BCRYPT_ROUNDS=12

# ===== CONFIGURACI√ìN DEL SERVIDOR =====
PORT=3000
NODE_ENV=production

# ===== EMAIL CONFIGURATION =====
MAILER_SERVICE=gmail
MAILER_EMAIL=tu-email@gmail.com
MAILER_SECRET_KEY=tu_app_password_gmail

# üìß Para configurar Gmail:
# 1. Activar autenticaci√≥n de 2 factores
# 2. Ir a: Cuenta Google ‚Üí Seguridad ‚Üí Autenticaci√≥n en dos pasos ‚Üí Contrase√±as de aplicaciones
# 3. Crear contrase√±a para "Aplicaci√≥n personalizada" 
# 4. Usar esa contrase√±a de 16 caracteres en MAILER_SECRET_KEY

# ===== CORS CONFIGURATION (OPCIONAL - SE AUTO-DETECTA) =====
# El sistema genera autom√°ticamente los or√≠genes permitidos seg√∫n tu configuraci√≥n
# Solo descomenta si quieres valores espec√≠ficos:
# ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:9050

# ===== MONITORING Y PERFORMANCE =====
ENABLE_QUERY_LOGGING=false
CONNECTION_POOL_SIZE=30

# Solo si usas PgBouncer:
# PGBOUNCER_URL=postgresql://postgres:CAMBIAR_ESTE_PASSWORD_AQUI@localhost:6432/pgbouncer

# ===== EJEMPLOS DE CONFIGURACI√ìN =====

# üìç DESARROLLO LOCAL:
# (No necesitas configurar nada, se auto-detecta)
# Resultado: http://localhost:9050

# üìç SERVIDOR DE CASA:
# SERVER_IP=192.168.1.100
# FRONTEND_PORT=9050
# Resultado: http://192.168.1.100:9050

# üìç VPS CON DOMINIO:
# SERVER_IP=midominio.duckdns.org  
# Resultado: https://midominio.duckdns.org

# üìç VPS CON IP P√öBLICA:
# SERVER_IP=203.0.113.1
# FRONTEND_PORT=8080
# Resultado: http://203.0.113.1:8080

# ===== NOTAS IMPORTANTES =====
# ‚úÖ FRONTEND_URL se genera autom√°ticamente seg√∫n SERVER_IP y FRONTEND_PORT
# ‚úÖ ALLOWED_ORIGINS se generan autom√°ticamente para todas las variantes
# ‚úÖ Si no configuras SERVER_IP, detecta autom√°ticamente tu IP local
# ‚úÖ Los dominios (.com, .org, etc.) usan HTTPS autom√°ticamente
# ‚úÖ Las IPs usan HTTP con puerto autom√°ticamente
# ‚öôÔ∏è Solo configura manualmente si la auto-detecci√≥n no funciona para tu caso